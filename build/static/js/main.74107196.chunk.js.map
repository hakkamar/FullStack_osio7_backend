{"version":3,"sources":["services/blogs.js","reducers/blogReducer.js","reducers/userReducer.js","reducers/notificationReducer.js","services/users.js","reducers/juuseritReducer.js","components/Notification.js","services/login.js","components/LoginForm.js","components/BlogForm.js","reducers/visibleReducer.js","components/Togglable.js","components/BlogList.js","components/UserList.js","components/Blogi.js","components/Juuseri.js","App.js","store.js","index.js"],"names":["baseUrl","token","config","headers","Authorization","services_blogs","getAll","axios","get","then","response","data","create","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","newObject","wrap","_context","prev","next","post","sent","abrupt","stop","this","_x","apply","arguments","update","id","put","concat","updateComment","remove","delete","setToken","newToken","blogReducer","store","length","undefined","action","type","old","filter","_id","liked","find","toConsumableArray","objectSpread","likes","blogi","commented","kommentoitu","comment","userUpdate","content","dispatch","userDelete","_ref2","_callee2","_context2","_x2","userReducer","notificationChange","teksti","setTimeout","notificationReducer","state","users","juuseritReducer","Notification","notification","props","slice","react_default","createElement","Message","error","success","React","Component","ConnectedNotification","connect","services_login","login","credentials","kayttajatunnus","salasana","user","username","password","loginService","window","localStorage","setItem","JSON","stringify","blogService","t0","LoginForm","handleUserFieldChange","e","preventDefault","target","value","handlePasswFieldChange","_callee3","_context3","_this2","className","Form","onSubmit","Field","name","onChange","Button","size","ConnectedLoginForm","BlogForm","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleFieldChange","event","setState","defineProperty","addBlog","Uusiblog","title","author","url","startsWith","blogCreation","Segment","raised","placeholder","ConnectedBlogForm","blog","newBlog","visibleReducer","toggleVisibility","visibleChange","ConnectedTogglable","visible","style","display","onClick","children","BlogList","components_Togglable","components_BlogForm","Table","striped","celled","Body","naytettavatBlogit","map","Row","key","Cell","Link","to","ConnectedBlogList","blogit","sort","b1","b2","UserList","naytettavatJuuserit","blogs","ConnectedUserList","juuserit","history","confirm","blogDelete","push","_x3","Blogi","kommentti","lisaaja","fluid","_this$props","like","blogLike","_x4","addComment","_ref3","blogComment","_x5","href","rel","as","labelPosition","Label","basic","pointing","icon","color","Icon","c","ConnectedBlogi","_ref4","_callee4","uusiLike","updatedBlog","_context4","_ref5","_callee5","newComment","uusiCommentti","_context5","Juuseri","juuseri","List","b","Item","Content","Header","Description","Otsikko","secondary","textAlign","Home","Footer","Divider","hidden","Flag","logout","removeItem","App","handleItemClick","activeItem","blogInitialization","juuuseritInitialization","loggedUserJSON","getItem","parse","Container","App_Otsikko","BrowserRouter","Menu","inverted","active","components_Notification","Route","exact","path","render","Redirect","App_Home","components_BlogList","match","components_Blogi","params","u","components_UserList","components_Juuseri","components_LoginForm","App_Footer","userService","reducer","combineReducers","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.74107196.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst config = () => {\r\n  return {\r\n    headers: { 'Authorization': token }\r\n  }\r\n}\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n/*\r\nconst getOne = async (id) => {\r\n  const response = await axios.get(`${baseUrl}/${id}`)\r\n  return response.data\r\n}\r\n*/\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst create = async (newObject) => {\r\n  const response = await axios.post(baseUrl, newObject, config())\r\n  return response.data\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject, config())\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst updateComment = (id, newObject) => {\r\n  const request = axios.post(`${baseUrl}/${id}/comments`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`, config())\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, updateComment, remove, setToken }","import blogService from './../services/blogs'\r\n\r\nconst blogReducer = (store = [], action) => {\r\n\r\n  switch (action.type) {\r\n  case 'LIKE_BLOG': {\r\n    const old = store.filter(a => a._id !== action.data.id)\r\n    const liked = store.find(a => a._id === action.data.id)\r\n\r\n    return [...old, { ...liked, likes: liked.likes + 1 } ]\r\n  }\r\n  case 'COMMENT_BLOG': {\r\n    const old = store.filter(a => a._id !== action.data.blogi)\r\n    const commented = store.find(a => a._id === action.data.blogi)\r\n    const kommentoitu = commented.comment.concat(action.data)\r\n\r\n    return [...old, { ...commented, comment: kommentoitu } ]\r\n  }\r\n  case 'CREATE_BLOG':\r\n    return [...store, action.data]\r\n  case 'DELETE_BLOG': {\r\n    const old = store.filter(a => a._id !== action.data.id)\r\n    return [...old]\r\n  }\r\n  case 'INIT_BLOGS':\r\n    return action.data\r\n  default:\r\n    return store\r\n  }\r\n}\r\n\r\nexport const blogInitialization = () => {\r\n  return async (dispatch) => {\r\n    const blogs = await blogService.getAll()\r\n    dispatch({\r\n      type: 'INIT_BLOGS',\r\n      data: blogs\r\n    })\r\n  }\r\n}\r\n\r\nexport const blogCreation = (content) => {\r\n  return async (dispatch) => {\r\n    const newBlog = await blogService.create(content)\r\n    dispatch({\r\n      type: 'CREATE_BLOG',\r\n      data: newBlog\r\n    })\r\n  }\r\n}\r\n\r\nexport const blogDelete = (blog) => {\r\n  return async (dispatch) => {\r\n    await blogService.remove(blog._id)\r\n    dispatch({\r\n      type: 'DELETE_BLOG',\r\n      data: {\r\n        id: blog._id\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const blogLike = (blog) => {\r\n  return async (dispatch) => {\r\n    const uusiLike = blog.likes + 1\r\n    const updatedBlog = {\r\n      id: blog._id,\r\n      user: blog.user,\r\n      likes: uusiLike,\r\n      author: blog.author,\r\n      title: blog.title,\r\n      url: blog.url,\r\n      comment: blog.comment\r\n    }\r\n    await blogService.update(blog._id, updatedBlog)\r\n    dispatch({\r\n      type: 'LIKE_BLOG',\r\n      data: {\r\n        id: blog._id\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const blogComment = (blog, kommentti) => {\r\n  return async (dispatch) => {\r\n    const newComment = {\r\n      blogi: blog._id,\r\n      comment: kommentti\r\n    }\r\n    const uusiCommentti = await blogService.updateComment(blog._id, newComment)\r\n    dispatch({\r\n      type: 'COMMENT_BLOG',\r\n      data: uusiCommentti\r\n    })\r\n  }\r\n}\r\n\r\nexport default blogReducer","\r\nconst userReducer = (store = null, action) => {\r\n  switch (action.type) {\r\n  case 'UPDATE_USER': {\r\n    return action.data\r\n  }\r\n  case 'DELETE_USER':\r\n    return null\r\n  default:\r\n    return store\r\n  }\r\n}\r\n\r\nexport const userUpdate = (content) => {\r\n  return async (dispatch) => {\r\n    await dispatch({\r\n      type: 'UPDATE_USER',\r\n      data: content\r\n    })\r\n  }\r\n}\r\n\r\nexport const userDelete = () => {\r\n  return async (dispatch) => {\r\n    await dispatch({\r\n      type: 'DELETE_USER'\r\n    })\r\n  }\r\n}\r\n\r\nexport default userReducer","const notificationReducer = (state = '', action) => {\r\n  switch (action.type) {\r\n  case 'NOTIFICATION':\r\n    return action.teksti\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport const notificationChange = (teksti) => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: 'NOTIFICATION',\r\n      teksti\r\n    })\r\n\r\n    teksti = ''\r\n    setTimeout(() => {\r\n      dispatch({\r\n        type: 'NOTIFICATION',\r\n        teksti\r\n      })\r\n    }, 10000)\r\n  }\r\n}\r\n\r\nexport default notificationReducer","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst getOne = (id) => {\r\n  const request = axios.get(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, getOne }","import userService from './../services/users'\r\n\r\nconst juuseritReducer = (store = [], action) => {\r\n  switch (action.type) {\r\n  case 'INIT_JUUSERIT':\r\n    return action.data\r\n  default:\r\n    return store\r\n  }\r\n}\r\n\r\nexport const juuuseritInitialization = () => {\r\n  return async (dispatch) => {\r\n    const juuserit = await userService.getAll()\r\n    dispatch({\r\n      type: 'INIT_JUUSERIT',\r\n      data: juuserit\r\n    })\r\n  }\r\n}\r\n\r\nexport default juuseritReducer","import React from 'react'\r\nimport { Message } from 'semantic-ui-react'\r\nimport { connect } from 'react-redux'\r\n\r\nclass Notification extends React.Component {\r\n  render () {\r\n    const { notification } = this.props\r\n\r\n    if (notification.slice(5,6) === ':') {\r\n      return (\r\n        <div >\r\n          <Message error >\r\n            {notification}\r\n          </Message>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div >\r\n        { notification === '' ?\r\n          <div></div> :\r\n          <Message success >\r\n            {notification}\r\n          </Message>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    notification: state.notification\r\n  }\r\n}\r\n\r\nconst ConnectedNotification = connect(\r\n  mapStateToProps\r\n)(Notification)\r\n\r\nexport default ConnectedNotification","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button } from 'semantic-ui-react'\r\nimport { notificationChange } from './../reducers/notificationReducer'\r\nimport { userUpdate, userDelete  } from './../reducers/userReducer'\r\nimport loginService from './../services/login'\r\nimport blogService from './../services/blogs'\r\n\r\nvar kayttajatunnus = ''\r\nvar salasana = ''\r\n\r\nconst login = async (props) => {\r\n\r\n  props.userUpdate({ username: kayttajatunnus, password: salasana })\r\n\r\n  try {\r\n    const user = await loginService.login({\r\n      username: kayttajatunnus,\r\n      password: salasana\r\n    })\r\n    window.localStorage.setItem('loggedBlogAppUser', JSON.stringify(user))\r\n    blogService.setToken(user.token)\r\n\r\n    props.notificationChange('welcome back!')\r\n    props.userUpdate({ user })\r\n\r\n  } catch (exception) {\r\n    props.userDelete()\r\n    props.notificationChange('error: käyttäjätunnus tai salasana virheellinen')\r\n  }\r\n}\r\n\r\nclass LoginForm extends React.Component {\r\n\r\n  handleUserFieldChange = async (e) => {\r\n    e.preventDefault()\r\n    kayttajatunnus = e.target.value\r\n  }\r\n\r\n  handlePasswFieldChange = async (e) => {\r\n    e.preventDefault()\r\n    salasana = e.target.value\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className=\"kirjauduDiv\">\r\n        <h2>Kirjaudu</h2>\r\n        <Form onSubmit={() => login(this.props)}>\r\n          <Form.Field>\r\n            <label>käyttäjätunnus</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              onChange={this.handleUserFieldChange }\r\n            />\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <label>salasana</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              onChange={this.handlePasswFieldChange}\r\n            />\r\n          </Form.Field>\r\n          <Button size='tiny'>kirjaudu</Button>\r\n        </Form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    notification: state.notification\r\n  }\r\n}\r\n\r\nconst ConnectedLoginForm = connect(\r\n  mapStateToProps,\r\n  { notificationChange, userUpdate, userDelete }\r\n)(LoginForm)\r\n\r\nexport default ConnectedLoginForm","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button, Segment } from 'semantic-ui-react'\r\nimport { blogCreation } from './../reducers/blogReducer'\r\nimport { notificationChange } from './../reducers/notificationReducer'\r\n\r\nclass BlogForm extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      title: '',\r\n      author: '',\r\n      url: ''\r\n    }\r\n  }\r\n\r\n  handleFieldChange = (event) => {\r\n    this.setState({ [event.target.name]: event.target.value })\r\n  }\r\n\r\n  addBlog = async (props) => {\r\n    var teksti = ''\r\n    if (this.state.title === '' || this.state.author === '' || this.state.url === '') {\r\n      teksti = 'error: Anna title, author ja url'\r\n      props.notificationChange(teksti)\r\n    }\r\n    if (!this.state.url.startsWith('http')) {\r\n      teksti = 'error: url:issa pitää olla myös http:// -alku'\r\n    } else {\r\n      const Uusiblog = {\r\n        title: this.state.title,\r\n        author: this.state.author,\r\n        url: this.state.url\r\n      }\r\n      props.blogCreation(Uusiblog)\r\n      teksti = `blog '${Uusiblog.title}' by ${Uusiblog.author} added`\r\n\r\n      this.setState({\r\n        title: '',\r\n        author: '',\r\n        url: ''\r\n      })\r\n    }\r\n    props.notificationChange(teksti)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Segment raised>\r\n          <h2>Luo uusi blogi</h2>\r\n          <Form onSubmit={() => this.addBlog(this.props)}>\r\n            <Form.Field>\r\n              <label>title</label>\r\n              <input\r\n                placeholder='Joku kivan Blogin otsikko...'\r\n                value={this.state.title}\r\n                name='title'\r\n                onChange={this.handleFieldChange}\r\n              />\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <label>author</label>\r\n              <input\r\n                placeholder='Blogin kirjoittaja...'\r\n                value={this.state.author}\r\n                name='author'\r\n                onChange={this.handleFieldChange}\r\n              />\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <label>url</label>\r\n              <input\r\n                placeholder='JeeJeeJee -urli mukaan lukien http:// -alku'\r\n                value={this.state.url}\r\n                name='url'\r\n                onChange={this.handleFieldChange}\r\n              />\r\n            </Form.Field>\r\n            <Button type=\"submit\">Luo</Button>\r\n          </Form>\r\n        </Segment>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    blog: state.blog,\r\n    notification: state.notification\r\n  }\r\n}\r\n\r\nconst ConnectedBlogForm = connect(\r\n  mapStateToProps,\r\n  { blogCreation, notificationChange }\r\n)(BlogForm)\r\n\r\nexport default ConnectedBlogForm","const visibleReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n  case 'CHANGE':\r\n    return !state\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport const visibleChange = () => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: 'CHANGE'\r\n    })\r\n  }\r\n}\r\n\r\nexport default visibleReducer","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button } from 'semantic-ui-react'\r\nimport { visibleChange } from './../reducers/visibleReducer'\r\n\r\nconst toggleVisibility = async (props) => {\r\n  props.visibleChange()\r\n}\r\n\r\nconst Togglable = (props) => (\r\n  <div>\r\n    <p></p>\r\n    <div style={ { display: props.visible ? 'none' : '' } }>\r\n      <Button onClick={ () => toggleVisibility(props) }> create new blog </Button>\r\n    </div>\r\n    <div style={ { display: props.visible ? '' : 'none' } }>\r\n      {props.children}\r\n      <p></p>\r\n      <Button onClick={ () => toggleVisibility(props) }>close \"create new blog\" form</Button>      \r\n    </div>\r\n    <p></p>\r\n  </div>\r\n)\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    visible: state.visible\r\n  }\r\n}\r\n\r\nconst ConnectedTogglable = connect(\r\n  mapStateToProps,\r\n  { visibleChange }\r\n)(Togglable)\r\n\r\nexport default ConnectedTogglable","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Table, Segment } from 'semantic-ui-react'\r\nimport { Link } from 'react-router-dom'\r\nimport BlogForm from './BlogForm'\r\nimport Togglable from './Togglable'\r\n\r\nclass BlogList extends React.Component {\r\n  render () {\r\n    return (\r\n      <div>\r\n        <div className='blogiFormi'>\r\n          {this.props.user !== null ?\r\n            <Togglable>\r\n              <BlogForm />\r\n            </Togglable>\r\n            : <div> <p>Blogeja voi luoda vain kirjautunut käyttäjä</p> </div>\r\n          }\r\n        </div>\r\n        <p></p>\r\n        <div>\r\n          <Segment>\r\n            <h2>Blogs</h2>\r\n            <Table striped celled>\r\n              <Table.Body>\r\n                {this.props.naytettavatBlogit.map(blog =>\r\n                  <Table.Row key={ blog._id }>\r\n                    <Table.Cell>\r\n                      <Link to={`/blogs/${blog._id}`}>{blog.title} </Link>\r\n                    </Table.Cell>\r\n                    <Table.Cell>\r\n                      {blog.author}\r\n                    </Table.Cell>\r\n                  </Table.Row>\r\n                )} \r\n              </Table.Body>\r\n            </Table>\r\n          </Segment>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst blogitJarjestyksessa = (blogit) => {\r\n  return blogit.sort((b1, b2) => b2.likes - b1.likes)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    naytettavatBlogit: blogitJarjestyksessa(state.blog),\r\n    user: state.user\r\n  }\r\n}\r\n\r\nconst ConnectedBlogList = connect(\r\n  mapStateToProps,\r\n  null\r\n)(BlogList)\r\n\r\nexport default ConnectedBlogList","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Table } from 'semantic-ui-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass UserList extends React.Component {\r\n  render () {\r\n    return (\r\n      <div>\r\n        <h2>Users</h2>\r\n        <Table striped celled>\r\n          <Table.Body>\r\n            {this.props.naytettavatJuuserit.map(user =>\r\n              <Table.Row key={ user.id }>\r\n                <Table.Cell>\r\n                  <Link to={`/users/${user.id}`}>{user.name}</Link>\r\n                </Table.Cell>\r\n                <Table.Cell>\r\n                  {user.blogs.length}\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            )}\r\n          </Table.Body>\r\n        </Table>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    naytettavatJuuserit: state.juuserit\r\n  }\r\n}\r\n\r\nconst ConnectedUserList = connect(\r\n  mapStateToProps,\r\n  null\r\n)(UserList)\r\n\r\nexport default ConnectedUserList","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Icon, Label, Segment } from 'semantic-ui-react'\r\nimport { blogLike, blogDelete, blogComment } from './../reducers/blogReducer'\r\nimport { notificationChange } from './../reducers/notificationReducer'\r\n\r\nconst remove =  async (props, blog, history) => {\r\n  const ok = window.confirm(`remove blog '${ blog.title }' by ${ blog.author }?`)\r\n  if ( ok === false) {\r\n    return\r\n  }\r\n  props.blogDelete(blog)\r\n  const teksti = `blog '${ blog.title }' by ${ blog.author } removed`\r\n  props.notificationChange(teksti)\r\n  history.push('/')\r\n}\r\n\r\nclass Blogi extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      kommentti: ''\r\n    }\r\n  }\r\n\r\n  handleFieldChange = (event) => {\r\n    this.setState({ kommentti: event.target.value })\r\n  }\r\n\r\n  lisaaja = (blog, history) => {\r\n    if (blog === undefined || this.props.user === null ) {\r\n      return <div> added by anonymous </div>\r\n    }\r\n    if (this.props.user.user !== undefined) {\r\n      if (blog.user.name === this.props.user.user.name) {\r\n        return (\r\n          <div>\r\n            <div> added by { blog.user.name } </div>\r\n            <p></p>\r\n            <div><Button fluid size='tiny' onClick={ () => remove(this.props, blog, history) }>delete blog</Button></div>\r\n          </div>\r\n        )\r\n      } else {\r\n        return (\r\n          <div>\r\n            <div> added by { blog.user.name } </div>\r\n            <p></p>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n    return <div>miten tässä näin kävi???</div>\r\n  }\r\n\r\n  render() {\r\n    const { blogi, history } = this.props\r\n\r\n    const like = async (blogi) => {\r\n      this.props.blogLike(blogi)\r\n\r\n      const teksti = `you liked '${blogi.title}' by ${blogi.author}`\r\n      this.props.notificationChange(teksti)\r\n    }\r\n\r\n    const addComment = async (blogi) => {\r\n      var teksti = ''\r\n      if (this.state.kommentti !== '') {\r\n        this.props.blogComment(blogi, this.state.kommentti)\r\n\r\n        teksti = `blogille '${blogi.title}' lisätty kommentti '${this.state.kommentti}'`\r\n        this.props.notificationChange(teksti)\r\n\r\n        this.setState({ kommentti: '' })\r\n      } else {\r\n        teksti = 'error: tyhjää ei kommnetoida'\r\n        this.props.notificationChange(teksti)\r\n      }\r\n    }\r\n\r\n    if (blogi === undefined) {\r\n      return(<div>päivitetään sivu, malta hetki....</div>)\r\n    }\r\n\r\n    return(\r\n      <div>\r\n        <Segment>\r\n          <h2>{blogi.title} - {blogi.author}</h2>\r\n          <div>\r\n            <a href={blogi.url} target=\"_blank\" rel=\"noopener noreferrer\" >{blogi.url}</a>\r\n          </div>\r\n          <p></p>\r\n          <div>\r\n            <Button as='div' labelPosition='left'>\r\n              <Label as='a' basic pointing='right'>\r\n                {blogi.likes} likes\r\n              </Label>\r\n              <Button icon color='red' onClick={ () => like(blogi) }>\r\n                <Icon name='heart' />\r\n                  Like\r\n              </Button>\r\n            </Button>\r\n          </div>\r\n          <p></p>\r\n          <div> {this.lisaaja(blogi, history) } </div>\r\n        </Segment>\r\n        <p></p>\r\n        <h2>comments</h2>\r\n        <p></p>\r\n\r\n        <form onSubmit={ () => addComment(blogi) }>\r\n          <div>\r\n            <input\r\n              value={this.state.kommentti}\r\n              name='comment'\r\n              onChange={this.handleFieldChange}\r\n            />\r\n            <Button size='mini' type=\"submit\">Kommentoi</Button>\r\n          </div>\r\n        </form>\r\n\r\n        <p></p>\r\n        <ul>\r\n          {blogi.comment.map(c =>\r\n            <li key={ c._id }>\r\n              <div> {c.comment} </div>\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user\r\n  }\r\n}\r\n\r\nconst ConnectedBlogi = connect(\r\n  mapStateToProps,\r\n  { blogLike, blogDelete, blogComment, notificationChange }\r\n)(Blogi)\r\n\r\nexport default ConnectedBlogi","import React from 'react'\r\nimport { Icon, List, Segment } from 'semantic-ui-react'\r\n\r\nclass Juuseri extends React.Component {\r\n  render () {\r\n    const { juuseri } = this.props\r\n\r\n    if (juuseri === undefined) {\r\n      return(<div>päivitetään sivu, malta hetki....</div>)\r\n    }\r\n\r\n    return(\r\n      <div>\r\n        <h2>{juuseri.name}</h2>\r\n        <Segment>\r\n          <h3>Added blogs</h3>\r\n          <List>\r\n            {juuseri.blogs.map(b =>\r\n              <List.Item as='a' key={ b._id }>\r\n                <Icon name='right triangle' />\r\n                <List.Content>\r\n                  <List.Header> {b.title} </List.Header>\r\n                  <List.Description> {b.author} </List.Description>\r\n                </List.Content>\r\n              </List.Item>\r\n            )}\r\n          </List>\r\n        </Segment>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Juuseri","import React from 'react'\r\nimport { BrowserRouter as Router, Route, Link, Redirect } from 'react-router-dom'\r\nimport { Container, Button, Menu, Divider, Header, Flag, Segment } from 'semantic-ui-react'\r\nimport blogService from './services/blogs'\r\nimport { connect } from 'react-redux'\r\nimport { blogInitialization } from './reducers/blogReducer'\r\nimport { userUpdate, userDelete } from './reducers/userReducer'\r\nimport { notificationChange } from './reducers/notificationReducer'\r\nimport { juuuseritInitialization } from './reducers/juuseritReducer'\r\n\r\nimport Notification from './components/Notification'\r\nimport LoginForm from './components/LoginForm'\r\nimport BlogList from './components/BlogList'\r\nimport UserList from './components/UserList'\r\nimport Blogi from './components/Blogi'\r\nimport Juuseri from './components/Juuseri'\r\n\r\nconst Otsikko = () => (\r\n  <Header >\r\n    <p></p>\r\n    <Segment secondary textAlign='center' color='black' >\r\n      <h1>Herra Hakkaraisen blogisivut</h1>\r\n    </Segment>\r\n  </Header>\r\n)\r\n\r\nconst Home = () => (\r\n  <div>\r\n    <p>Tervetuloa sivuille. Liiku valikossa olevilla valinnoilla.</p>\r\n    <p>Vain kirjautunut käyttäjä voi lisätä blogeja.</p>\r\n    <p>Kuka vaan voi kommentoida blogeja.</p>\r\n  </div>\r\n)\r\n\r\nconst Footer = () => (\r\n  <div>\r\n    <Divider hidden/>\r\n    <Header as='h5' color='grey'>\r\n      <Segment secondary textAlign='center' color='black'>\r\n        <em> Hakkiksen blogisivut. Hand made in Järvenpää <Flag name='fi' /> </em>\r\n        <p>FullStack devausta vuodesta 2018</p>\r\n      </Segment>\r\n    </Header>\r\n  </div>\r\n)\r\n\r\nconst logout = async (props) => {\r\n  window.localStorage.removeItem('loggedBlogAppUser')\r\n\r\n  props.notificationChange('logged out')\r\n  props.userDelete()\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      activeItem: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.props.blogInitialization()\r\n    this.props.juuuseritInitialization()\r\n\r\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogAppUser')\r\n    if ( loggedUserJSON ) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      this.props.userUpdate({ user })\r\n      blogService.setToken(user.token)\r\n    }\r\n  }\r\n\r\n  handleItemClick = (e, { name }) => this.setState({ activeItem: name })\r\n\r\n  render() {\r\n    const { activeItem } = this.state\r\n\r\n    const userById = (props, id) => {\r\n      return props.juuserit.find(u => u.id === id)\r\n    }\r\n\r\n    const blogById = (props, id) => {\r\n      return props.blog.find(u => u._id === id)\r\n    }\r\n\r\n    const loggautunut = (props) => {\r\n      if (!props.user.user) {\r\n        return <em>loggaudutaan...</em>\r\n      }\r\n      return <em>{this.props.user.user.name} logged in <Button size='mini' inverted color='grey' onClick={ () => logout(this.props) }>logout</Button></em>\r\n    }\r\n\r\n    return (\r\n      <Container>\r\n        <div className=\"kokoSivu\">\r\n          <Otsikko />\r\n          <Router>\r\n            <div>\r\n              <Menu inverted >\r\n                <Menu.Item as='div' name='blogs' active={activeItem === 'blogs'} onClick={this.handleItemClick}>\r\n                  <Link to=\"/blogs\">blogs</Link>\r\n                </Menu.Item>\r\n                <Menu.Item as='div' name='users' active={activeItem === 'users'} onClick={this.handleItemClick}>\r\n                  <Link to=\"/users\">users</Link>\r\n                </Menu.Item>\r\n                <Menu.Item as='div' name='login' active={activeItem === 'login'} onClick={this.handleItemClick}>\r\n                  {!this.props.user\r\n                    ? <Link to=\"/login\">login</Link>\r\n                    : loggautunut(this.props)\r\n                  }\r\n                </Menu.Item>\r\n              </Menu>\r\n              <Notification />\r\n              <Segment>\r\n                <Route exact path=\"/\" render={() =>\r\n                  this.props.user\r\n                    ? <Redirect to=\"/blogs\" />\r\n                    : <Home />\r\n                } />\r\n                <Route exact path=\"/blogs\" render={() => <BlogList /> } />\r\n                <Route exact path=\"/blogs/:id\" render={({ match, history }) =>\r\n                  <Blogi history={history} blogi={blogById(this.props, match.params.id)} />}\r\n                />\r\n                <Route exact path=\"/users\" render={() => <UserList />} />\r\n                <Route exact path=\"/users/:id\" render={({ match }) =>\r\n                  <Juuseri juuseri={userById(this.props, match.params.id)} />}\r\n                />\r\n                <Route exact path=\"/login\" render={() =>\r\n                  this.props.user\r\n                    ? <Redirect to=\"/blogs\" />\r\n                    : <LoginForm />\r\n                } />\r\n              </Segment>\r\n            </div>\r\n          </Router>\r\n          <Footer />\r\n        </div>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    blog: state.blog,\r\n    juuserit: state.juuserit\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { blogInitialization, userUpdate, userDelete, juuuseritInitialization, notificationChange }\r\n)(App)","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport blogReducer from './reducers/blogReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport visibleReducer from './reducers/visibleReducer'\r\nimport userReducer from './reducers/userReducer'\r\nimport juuseritReducer from './reducers/juuseritReducer'\r\n\r\nconst reducer = combineReducers({\r\n  blog: blogReducer,\r\n  notification: notificationReducer,\r\n  visible: visibleReducer,\r\n  user: userReducer,\r\n  juuserit: juuseritReducer\r\n})\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  composeWithDevTools(\r\n    applyMiddleware(thunk)\r\n  )\r\n)\r\n\r\nexport default store","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport App from './App'\r\nimport store from './store'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}